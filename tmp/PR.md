# Summary

## What changed

- Implemented Stage 3.5: CI Link Validation, Project Publication Runbooks, and Documentation Governance
- Created 2 new runbooks for portfolio project publication and troubleshooting
- Updated 4 existing runbooks with cross-references and Stage 3.5 context
- Created Stage 3.5 app and docs issues in roadmap
- Enhanced copilot-instructions.md with enforcement rules to prevent documentation drift
- Updated Portfolio App and Portfolio Docs App dossiers to reflect Stage 3.5 deliverables
- Updated PR template Evidence section to match actual CI jobs

## Why

Stage 3.5 introduces critical operational and governance improvements:

1. **Operational readiness**: Runbooks formalize the portfolio project publication workflow and troubleshooting procedures
2. **Documentation governance**: New enforcement rules in copilot-instructions.md ensure README, CONTRIBUTING, PR templates, and verification scripts stay synchronized when CI/verification processes change
3. **Evidence completeness**: Updated dossiers and PR template reflect actual CI jobs and validation gates
4. **Cross-linking**: All runbooks, issues, and phase guides properly cross-reference for navigation

This prevents documentation drift that causes contributor confusion and onboarding friction.

## Scope

- [x] Docs content update
- [ ] New section/folder (_category_ + index hub)
- [ ] Templates / style guide
- [ ] CI/CD / workflows
- [x] Security / threat model / SDLC controls
- [x] Operations / runbooks / IR / DR

## Evidence

- [x] `ci / quality` passed (lint, typecheck, format)
- [x] `ci / build` passed (Docusaurus build + broken links check)
- [x] `codeql` checks passed
- [x] Includes closing keyword for linked issue (e.g., Closes #123)
- Links / screenshots / notes:
  - Local verification: `pnpm verify` passed cleanly
  - All new runbooks follow template structure (Purpose/Scope/Procedure/Validation/Troubleshooting/Refs)
  - Copilot-instructions enforcement rules include validation checklists and concrete examples
  - Refs #24 (Stage 3.5 tracking issue)

## Nav / Structure

- [x] New/updated folders include `_category_.json` or `_category_.yml`
- [x] New section has an index hub (generated-index or curated index doc)
- [x] Sidebars/autogenerated navigation renders correctly
- Notes:
  - Runbook index updated with Stage 3.5 runbooks and cross-references
  - Issues index updated with Stage 3.5 app/docs issues
  - All new runbooks placed in existing `docs/50-operations/runbooks/` structure

## Security

- [x] No secrets added (confirmed)
- [ ] If security-relevant: threat model / controls updated or issue created
  - Link to update/issue: N/A (governance and documentation updates only)

## Quality checklist

- [x] Front matter included (title, description, tags; sidebar fields if needed)
- [x] Uses standard page structure (Purpose / Scope / Procedure / Validation / Troubleshooting / Refs)
- [x] Commands are copy/paste safe and specify shell (`bash`/`powershell`)
- [x] Any destructive steps include rollback guidance

## Notes for reviewers (optional)

**Key deliverables:**

1. **New runbooks (4 total)**:
   - `rbk-portfolio-project-publish.md`: 6-phase publication workflow (pre-checks → validation → deployment → verification → documentation → announcement)
   - `rbk-troubleshooting-portfolio-publish.md`: 5 failure mode troubleshooting guide

2. **Documentation governance improvements**:
   - `copilot-instructions.md` now enforces updates to:
     - CONTRIBUTING.md when CI/verification changes
     - PULL_REQUEST_TEMPLATE.md when CI jobs change
     - scripts/verify-docs-local.sh when verification steps change
   - Includes validation checklists, failure consequences, and concrete examples
   - Prevents documentation drift between actual workflows and contributor-facing docs

3. **Dossier updates**:
   - Portfolio App: Documented Stage 3.5 link validation CI job and publication runbooks
   - Portfolio Docs App: Added "Current State (Phase 3–Stage 3.5)" section with runbook links

4. **PR template alignment**:
   - Evidence section now lists actual CI jobs: `ci / quality`, `ci / build`, `codeql`
   - Removed generic "pnpm build passed" in favor of specific CI job checklist

5. **Cross-linking**:
   - All runbooks cross-reference related procedures
   - Issues index and phase guide updated with Stage 3.5 status
   - Session context reflects active Stage 3.5 work

**Testing:**

- Local verification: All files pass `pnpm verify` (lint, typecheck, format, build)
- Navigation: All new runbooks render correctly in docs site
- Links: All cross-references resolve correctly

**Phase 3 status:**

- Stages 3.1-3.4: Complete
- Stage 3.5: In progress (CI implementation complete, runbooks created, testing and PRs pending)
